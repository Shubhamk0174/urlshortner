{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Codes/WebDev/Code%20With%20Harry/node_js/136%20url%20shortner/my-app/app/shorten/page.js"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nconst Shorten = () => {\r\n    const [url, seturl] = useState(\"\");\r\n    const [shorturl, setShorturl] = useState(\"\");\r\n    const [generate, setGenerate] = useState(false);\r\n    const [alert, setAlert] = useState({ show: false, message: '', type: '' });\r\n\r\n    const handleGenerate = () => {\r\n        if (!url || !shorturl) {\r\n            setAlert({ show: true, message: \"Please fill both the fields\", type: 'error' });\r\n            setTimeout(() => setAlert({ show: false, message: '', type: '' }), 3000);\r\n            return;\r\n        }\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n        const raw = JSON.stringify({\r\n            url: url,\r\n            shorturl: shorturl,\r\n        });\r\n\r\n        const requestOptions = {\r\n            method: \"POST\",\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: \"follow\",\r\n        };\r\n\r\n        fetch(\"/api/generate\", requestOptions)\r\n            .then((response) => response.json())\r\n            .then((result) => {\r\n                if (result.success) {\r\n                    setGenerate(`${process.env.NEXT_PUBLIC_HOST}/${shorturl}`);\r\n                    seturl(\"\");\r\n                    setShorturl(\"\");\r\n                    setAlert({ show: true, message: result.message, type: 'success' });\r\n                }\r\n                else{\r\n                    setGenerate(false);\r\n                    setAlert({ show: true, message: result.message, type: 'error' });\r\n                }\r\n                setTimeout(() => setAlert({ show: false, message: '', type: '' }), 3000);\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n                setAlert({ show: true, message: 'An error occurred. Please try again.', type: 'error' });\r\n                setTimeout(() => setAlert({ show: false, message: '', type: '' }), 3000);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-[60vh]\">\r\n            <div className=\"flex flex-col gap-14 justify-center items-center min-h-[60vh]\">\r\n                <h1 className=\"text-2xl font-bold text-center\">\r\n                    Generate your short URLs\r\n                </h1>\r\n                <div className=\"h-12 flex items-center justify-center\">\r\n                    <div className={`p-3 rounded-lg text-white text-center transition-opacity duration-300 ${alert.show ? 'opacity-100' : 'opacity-0'} ${alert.type === 'success' ? 'bg-[#12977f]' : 'bg-red-500'}`}>\r\n                        {alert.message}\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-col w-[40vw] gap-7\">\r\n                    <input\r\n                        className=\"border p-1 px-2 rounded-lg placeholder:text-white placeholder:opacity-70\"\r\n                        type=\"text\"\r\n                        placeholder=\"Enter your URL\"\r\n                        value={url}\r\n                        onChange={(e) => {\r\n                            seturl(e.target.value);\r\n                        }}\r\n                    />\r\n\r\n                    <input\r\n                        className=\"border p-1 px-2 rounded-lg  placeholder:text-white placeholder:opacity-70\"\r\n                        type=\"text\"\r\n                        placeholder=\"Enter your preferred short URL text\"\r\n                        value={shorturl}\r\n                        onChange={(e) => {\r\n                            setShorturl(e.target.value);\r\n                        }}\r\n                    />\r\n\r\n                    <button\r\n                        onClick={handleGenerate}\r\n                        className=\"bg-[#12977f] h-9 rounded-lg text-lg cursor-pointer\"\r\n                    >\r\n                        Generate\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n                {generate && (\r\n                    <code>\r\n                        <Link href={generate} target=\"_blank\">\r\n                            Your Short URL :{\" \"}\r\n                            <span className=\"text-blue-500\"> {generate} </span>\r\n                        </Link>\r\n                    </code>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Shorten;\r\n"],"names":[],"mappings":";;;;AACA;AAEA;AAHA;;;;;AAKA,MAAM,UAAU;IACZ,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/B,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,MAAM;QAAO,SAAS;QAAI,MAAM;IAAG;IAExE,MAAM,iBAAiB;QACnB,IAAI,CAAC,OAAO,CAAC,UAAU;YACnB,SAAS;gBAAE,MAAM;gBAAM,SAAS;gBAA+B,MAAM;YAAQ;YAC7E,WAAW,IAAM,SAAS;oBAAE,MAAM;oBAAO,SAAS;oBAAI,MAAM;gBAAG,IAAI;YACnE;QACJ;QACA,MAAM,YAAY,IAAI;QACtB,UAAU,MAAM,CAAC,gBAAgB;QAEjC,MAAM,MAAM,KAAK,SAAS,CAAC;YACvB,KAAK;YACL,UAAU;QACd;QAEA,MAAM,iBAAiB;YACnB,QAAQ;YACR,SAAS;YACT,MAAM;YACN,UAAU;QACd;QAEA,MAAM,iBAAiB,gBAClB,IAAI,CAAC,CAAC,WAAa,SAAS,IAAI,IAChC,IAAI,CAAC,CAAC;YACH,IAAI,OAAO,OAAO,EAAE;gBAChB,YAAY,6DAAgC,CAAC,EAAE,UAAU;gBACzD,OAAO;gBACP,YAAY;gBACZ,SAAS;oBAAE,MAAM;oBAAM,SAAS,OAAO,OAAO;oBAAE,MAAM;gBAAU;YACpE,OACI;gBACA,YAAY;gBACZ,SAAS;oBAAE,MAAM;oBAAM,SAAS,OAAO,OAAO;oBAAE,MAAM;gBAAQ;YAClE;YACA,WAAW,IAAM,SAAS;oBAAE,MAAM;oBAAO,SAAS;oBAAI,MAAM;gBAAG,IAAI;QACvE,GACC,KAAK,CAAC,CAAC;YACJ,QAAQ,KAAK,CAAC;YACd,SAAS;gBAAE,MAAM;gBAAM,SAAS;gBAAwC,MAAM;YAAQ;YACtF,WAAW,IAAM,SAAS;oBAAE,MAAM;oBAAO,SAAS;oBAAI,MAAM;gBAAG,IAAI;QACvE;IACR;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAiC;;;;;;kCAG/C,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAI,WAAW,CAAC,sEAAsE,EAAE,MAAM,IAAI,GAAG,gBAAgB,YAAY,CAAC,EAAE,MAAM,IAAI,KAAK,YAAY,iBAAiB,cAAc;sCAC1L,MAAM,OAAO;;;;;;;;;;;kCAGtB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,WAAU;gCACV,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC;oCACP,OAAO,EAAE,MAAM,CAAC,KAAK;gCACzB;;;;;;0CAGJ,8OAAC;gCACG,WAAU;gCACV,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC;oCACP,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC9B;;;;;;0CAGJ,8OAAC;gCACG,SAAS;gCACT,WAAU;0CACb;;;;;;;;;;;;;;;;;;0BAKT,8OAAC;gBAAI,WAAU;0BACV,0BACG,8OAAC;8BACG,cAAA,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAM;wBAAU,QAAO;;4BAAS;4BACjB;0CACjB,8OAAC;gCAAK,WAAU;;oCAAgB;oCAAE;oCAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvE;uCAEe","debugId":null}}]
}